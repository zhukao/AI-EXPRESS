

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changelog &mdash; AI Express用户手册 2.4.0 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> AI Express用户手册
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/overview.html">概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/quick_start.html">快速上手</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/solution.html">场景参考解决方案</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/xstream_guide.html">XStream用户手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/xstream_tutorials.html">XStream开发指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/xstream_more.html">XStream高级特性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/xstream_ai.html">XStream模型与策略开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/xproto.html">XProto用户手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/tools.html">工具集</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/faq.html">常见问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/version.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BuildAll/doc/copyright.html">版权声明</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">AI Express用户手册</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Changelog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/common/pybind11/docs/changelog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changelog">
<span id="id1"></span><h1>Changelog<a class="headerlink" href="#changelog" title="永久链接至标题">¶</a></h1>
<p>Starting with version 1.8.0, pybind11 releases use a <a class="reference external" href="http://semver.org">semantic versioning</a> policy.</p>
<div class="section" id="v2-4-3-oct-15-2019">
<h2>v2.4.3 (Oct 15, 2019)<a class="headerlink" href="#v2-4-3-oct-15-2019" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Adapt pybind11 to a C API convention change in Python 3.8. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1950">#1950</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-4-2-sep-21-2019">
<h2>v2.4.2 (Sep 21, 2019)<a class="headerlink" href="#v2-4-2-sep-21-2019" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Replaced usage of a C++14 only construct. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1929">#1929</a>.</p></li>
<li><p>Made an ifdef future-proof for Python &gt;= 4. <a class="reference external" href="https://github.com/pybind/pybind11/commit/f3109d">f3109d</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-4-1-sep-20-2019">
<h2>v2.4.1 (Sep 20, 2019)<a class="headerlink" href="#v2-4-1-sep-20-2019" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Fixed a problem involving implicit conversion from enumerations to integers
on Python 3.8. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1780">#1780</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-4-0-sep-19-2019">
<h2>v2.4.0 (Sep 19, 2019)<a class="headerlink" href="#v2-4-0-sep-19-2019" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Try harder to keep pybind11-internal data structures separate when there
are potential ABI incompatibilities. Fixes crashes that occurred when loading
multiple pybind11 extensions that were e.g. compiled by GCC (libstdc++)
and Clang (libc++).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1588">#1588</a> and
<a class="reference external" href="https://github.com/pybind/pybind11/commit/c9f5a">c9f5a</a>.</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">__await__</span></code>, <code class="docutils literal notranslate"><span class="pre">__aiter__</span></code>, and <code class="docutils literal notranslate"><span class="pre">__anext__</span></code> protocols.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1842">#1842</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pybind11_add_module()</span></code>: don’t strip symbols when compiling in
<code class="docutils literal notranslate"><span class="pre">RelWithDebInfo</span></code> mode. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1980">#1980</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enum_</span></code>: Reproduce Python behavior when comparing against invalid values
(e.g. <code class="docutils literal notranslate"><span class="pre">None</span></code>, strings, etc.). Add back support for <code class="docutils literal notranslate"><span class="pre">__invert__()</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1912">#1912</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1907">#1907</a>.</p></li>
<li><p>List insertion operation for <code class="docutils literal notranslate"><span class="pre">py::list</span></code>.
Added <code class="docutils literal notranslate"><span class="pre">.empty()</span></code> to all collection types.
Added <code class="docutils literal notranslate"><span class="pre">py::set::contains()</span></code> and <code class="docutils literal notranslate"><span class="pre">py::dict::contains()</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1887">#1887</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1884">#1884</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1888">#1888</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">py::details::overload_cast_impl</span></code> is available in C++11 mode, can be used
like <code class="docutils literal notranslate"><span class="pre">overload_cast</span></code> with an additional set of parantheses.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1581">#1581</a>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">get_include()</span></code> on Conda.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1877">#1877</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stl_bind.h</span></code>: negative indexing support.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1882">#1882</a>.</p></li>
<li><p>Minor CMake fix to add MinGW compatibility.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1851">#1851</a>.</p></li>
<li><p>GIL-related fixes.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1836">#1836</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/commit/8b90b">8b90b</a>.</p></li>
<li><p>Other very minor/subtle fixes and improvements.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1329">#1329</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1910">#1910</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1863">#1863</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1847">#1847</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1890">#1890</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1860">#1860</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1848">#1848</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1821">#1821</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1837">#1837</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1833">#1833</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1748">#1748</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1852">#1852</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-3-0-june-11-2019">
<h2>v2.3.0 (June 11, 2019)<a class="headerlink" href="#v2-3-0-june-11-2019" title="永久链接至标题">¶</a></h2>
<ul>
<li><p>Significantly reduced module binary size (10-20%) when compiled in C++11 mode
with GCC/Clang, or in any mode with MSVC. Function signatures are now always
precomputed at compile time (this was previously only available in C++14 mode
for non-MSVC compilers).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/934">#934</a>.</p></li>
<li><p>Add basic support for tag-based static polymorphism, where classes
provide a method to returns the desired type of an instance.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1326">#1326</a>.</p></li>
<li><p>Python type wrappers (<code class="docutils literal notranslate"><span class="pre">py::handle</span></code>, <code class="docutils literal notranslate"><span class="pre">py::object</span></code>, etc.)
now support map Python’s number protocol onto C++ arithmetic
operators such as <code class="docutils literal notranslate"><span class="pre">operator+</span></code>, <code class="docutils literal notranslate"><span class="pre">operator/=</span></code>, etc.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1511">#1511</a>.</p></li>
<li><p>A number of improvements related to enumerations:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">enum_</span></code> implementation was rewritten from scratch to reduce
code bloat. Rather than instantiating a full implementation for each
enumeration, most code is now contained in a generic base class.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1511">#1511</a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">value()</span></code>  method of <code class="docutils literal notranslate"><span class="pre">py::enum_</span></code> now accepts an optional
docstring that will be shown in the documentation of the associated
enumeration. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1160">#1160</a>.</p></li>
<li><p>check for already existing enum value and throw an error if present.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1453">#1453</a>.</p></li>
</ol>
</div></blockquote>
</li>
<li><p>Support for over-aligned type allocation via C++17’s aligned <code class="docutils literal notranslate"><span class="pre">new</span></code>
statement. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1582">#1582</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">py::ellipsis()</span></code> method for slicing of multidimensional NumPy arrays
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1502">#1502</a>.</p></li>
<li><p>Numerous Improvements to the <code class="docutils literal notranslate"><span class="pre">mkdoc.py</span></code> script for extracting documentation
from C++ header files.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1788">#1788</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pybind11_add_module()</span></code>: allow including Python as a <code class="docutils literal notranslate"><span class="pre">SYSTEM</span></code> include path.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1416">#1416</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pybind11/stl.h</span></code> does not convert strings to <code class="docutils literal notranslate"><span class="pre">vector&lt;string&gt;</span></code> anymore.
<a class="reference external" href="https://github.com/pybind/pybind11/issues/1258">#1258</a>.</p></li>
<li><p>Mark static methods as such to fix auto-generated Sphinx documentation.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1732">#1732</a>.</p></li>
<li><p>Re-throw forced unwind exceptions (e.g. during pthread termination).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1208">#1208</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">__contains__</span></code> method to the bindings of maps (<code class="docutils literal notranslate"><span class="pre">std::map</span></code>,
<code class="docutils literal notranslate"><span class="pre">std::unordered_map</span></code>).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1767">#1767</a>.</p></li>
<li><p>Improvements to <code class="docutils literal notranslate"><span class="pre">gil_scoped_acquire</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1211">#1211</a>.</p></li>
<li><p>Type caster support for <code class="docutils literal notranslate"><span class="pre">std::deque&lt;T&gt;</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1609">#1609</a>.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">std::unique_ptr</span></code> holders, whose deleters differ between a base and derived
class. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1353">#1353</a>.</p></li>
<li><p>Construction of STL array/vector-like data structures from
iterators. Added an <code class="docutils literal notranslate"><span class="pre">extend()</span></code> operation.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1709">#1709</a>,</p></li>
<li><p>CMake build system improvements for projects that include non-C++
files (e.g. plain C, CUDA) in <code class="docutils literal notranslate"><span class="pre">pybind11_add_module</span></code> et al.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1678">#1678</a>.</p></li>
<li><p>Fixed asynchronous invocation and deallocation of Python functions
wrapped in <code class="docutils literal notranslate"><span class="pre">std::function</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1595">#1595</a>.</p></li>
<li><p>Fixes regarding return value policy propagation in STL type casters.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1603">#1603</a>.</p></li>
<li><p>Fixed scoped enum comparisons.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1571">#1571</a>.</p></li>
<li><p>Fixed iostream redirection for code that releases the GIL.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1368">#1368</a>,</p></li>
<li><p>A number of CI-related fixes.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1757">#1757</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1744">#1744</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1670">#1670</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-2-4-september-11-2018">
<h2>v2.2.4 (September 11, 2018)<a class="headerlink" href="#v2-2-4-september-11-2018" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Use new Python 3.7 Thread Specific Storage (TSS) implementation if available.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1454">#1454</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1517">#1517</a>.</p></li>
<li><p>Fixes for newer MSVC versions and C++17 mode.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1347">#1347</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1462">#1462</a>.</p></li>
<li><p>Propagate return value policies to type-specific casters
when casting STL containers.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1455">#1455</a>.</p></li>
<li><p>Allow ostream-redirection of more than 1024 characters.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1479">#1479</a>.</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">Py_DEBUG</span></code> define when compiling against a debug Python build.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1438">#1438</a>.</p></li>
<li><p>Untangle integer logic in number type caster to work for custom
types that may only be castable to a restricted set of builtin types.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1442">#1442</a>.</p></li>
<li><p>CMake build system: Remember Python version in cache file.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1434">#1434</a>.</p></li>
<li><p>Fix for custom smart pointers: use <code class="docutils literal notranslate"><span class="pre">std::addressof</span></code> to obtain holder
address instead of <code class="docutils literal notranslate"><span class="pre">operator&amp;</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1435">#1435</a>.</p></li>
<li><p>Properly report exceptions thrown during module initialization.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1362">#1362</a>.</p></li>
<li><p>Fixed a segmentation fault when creating empty-shaped NumPy array.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1371">#1371</a>.</p></li>
<li><p>The version of Intel C++ compiler must be &gt;= 2017, and this is now checked by
the header files. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1363">#1363</a>.</p></li>
<li><p>A few minor typo fixes and improvements to the test suite, and
patches that silence compiler warnings.</p></li>
<li><p>Vectors now support construction from generators, as well as <code class="docutils literal notranslate"><span class="pre">extend()</span></code> from a
list or generator.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1496">#1496</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-2-3-april-29-2018">
<h2>v2.2.3 (April 29, 2018)<a class="headerlink" href="#v2-2-3-april-29-2018" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>The pybind11 header location detection was replaced by a new implementation
that no longer depends on <code class="docutils literal notranslate"><span class="pre">pip</span></code> internals (the recently released <code class="docutils literal notranslate"><span class="pre">pip</span></code>
10 has restricted access to this API).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1190">#1190</a>.</p></li>
<li><p>Small adjustment to an implementation detail to work around a compiler segmentation fault in Clang 3.3/3.4.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1350">#1350</a>.</p></li>
<li><p>The minimal supported version of the Intel compiler was &gt;= 17.0 since
pybind11 v2.1. This check is now explicit, and a compile-time error is raised
if the compiler meet the requirement.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1363">#1363</a>.</p></li>
<li><p>Fixed an endianness-related fault in the test suite.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1287">#1287</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-2-2-february-7-2018">
<h2>v2.2.2 (February 7, 2018)<a class="headerlink" href="#v2-2-2-february-7-2018" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Fixed a segfault when combining embedded interpreter
shutdown/reinitialization with external loaded pybind11 modules.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1092">#1092</a>.</p></li>
<li><p>Eigen support: fixed a bug where Nx1/1xN numpy inputs couldn’t be passed as
arguments to Eigen vectors (which for Eigen are simply compile-time fixed
Nx1/1xN matrices).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1106">#1106</a>.</p></li>
<li><p>Clarified to license by moving the licensing of contributions from
<code class="docutils literal notranslate"><span class="pre">LICENSE</span></code> into <code class="docutils literal notranslate"><span class="pre">CONTRIBUTING.md</span></code>: the licensing of contributions is not
actually part of the software license as distributed.  This isn’t meant to be
a substantial change in the licensing of the project, but addresses concerns
that the clause made the license non-standard.
<a class="reference external" href="https://github.com/pybind/pybind11/issues/1109">#1109</a>.</p></li>
<li><p>Fixed a regression introduced in 2.1 that broke binding functions with lvalue
character literal arguments.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1128">#1128</a>.</p></li>
<li><p>MSVC: fix for compilation failures under /permissive-, and added the flag to
the appveyor test suite.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1155">#1155</a>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">__qualname__</span></code> generation, and in turn, fixes how class names
(especially nested class names) are shown in generated docstrings.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1171">#1171</a>.</p></li>
<li><p>Updated the FAQ with a suggested project citation reference.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1189">#1189</a>.</p></li>
<li><p>Added fixes for deprecation warnings when compiled under C++17 with
<code class="docutils literal notranslate"><span class="pre">-Wdeprecated</span></code> turned on, and add <code class="docutils literal notranslate"><span class="pre">-Wdeprecated</span></code> to the test suite
compilation flags.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1191">#1191</a>.</p></li>
<li><p>Fixed outdated PyPI URLs in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1213">#1213</a>.</p></li>
<li><p>Fixed a refcount leak for arguments that end up in a <code class="docutils literal notranslate"><span class="pre">py::args</span></code> argument
for functions with both fixed positional and <code class="docutils literal notranslate"><span class="pre">py::args</span></code> arguments.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1216">#1216</a>.</p></li>
<li><p>Fixed a potential segfault resulting from possible premature destruction of
<code class="docutils literal notranslate"><span class="pre">py::args</span></code>/<code class="docutils literal notranslate"><span class="pre">py::kwargs</span></code> arguments with overloaded functions.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1223">#1223</a>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">map[item]</span></code> for a <code class="docutils literal notranslate"><span class="pre">stl_bind.h</span></code> bound stl map.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1229">#1229</a>.</p></li>
<li><p>Fixed a regression from v2.1.x where the aggregate initialization could
unintentionally end up at a constructor taking a templated
<code class="docutils literal notranslate"><span class="pre">std::initializer_list&lt;T&gt;</span></code> argument.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1249">#1249</a>.</p></li>
<li><p>Fixed an issue where calling a function with a keep_alive policy on the same
nurse/patient pair would cause the internal patient storage to needlessly
grow (unboundedly, if the nurse is long-lived).
<a class="reference external" href="https://github.com/pybind/pybind11/issues/1251">#1251</a>.</p></li>
<li><p>Various other minor fixes.</p></li>
</ul>
</div>
<div class="section" id="v2-2-1-september-14-2017">
<h2>v2.2.1 (September 14, 2017)<a class="headerlink" href="#v2-2-1-september-14-2017" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">py::module::reload()</span></code> member function for reloading a module.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1040">#1040</a>.</p></li>
<li><p>Fixed a reference leak in the number converter.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1078">#1078</a>.</p></li>
<li><p>Fixed compilation with Clang on host GCC &lt; 5 (old libstdc++ which isn’t fully
C++11 compliant). <a class="reference external" href="https://github.com/pybind/pybind11/pull/1062">#1062</a>.</p></li>
<li><p>Fixed a regression where the automatic <code class="docutils literal notranslate"><span class="pre">std::vector&lt;bool&gt;</span></code> caster would
fail to compile. The same fix also applies to any container which returns
element proxies instead of references.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1053">#1053</a>.</p></li>
<li><p>Fixed a regression where the <code class="docutils literal notranslate"><span class="pre">py::keep_alive</span></code> policy could not be applied
to constructors. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1065">#1065</a>.</p></li>
<li><p>Fixed a nullptr dereference when loading a <code class="docutils literal notranslate"><span class="pre">py::module_local</span></code> type
that’s only registered in an external module.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1058">#1058</a>.</p></li>
<li><p>Fixed implicit conversion of accessors to types derived from <code class="docutils literal notranslate"><span class="pre">py::object</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1076">#1076</a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">name</span></code> in <code class="docutils literal notranslate"><span class="pre">PYBIND11_MODULE(name,</span> <span class="pre">variable)</span></code> can now be a macro.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1082">#1082</a>.</p></li>
<li><p>Relaxed overly strict <code class="docutils literal notranslate"><span class="pre">py::pickle()</span></code> check for matching get and set types.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1064">#1064</a>.</p></li>
<li><p>Conversion errors now try to be more informative when it’s likely that
a missing header is the cause (e.g. forgetting <code class="docutils literal notranslate"><span class="pre">&lt;pybind11/stl.h&gt;</span></code>).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1077">#1077</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-2-0-august-31-2017">
<h2>v2.2.0 (August 31, 2017)<a class="headerlink" href="#v2-2-0-august-31-2017" title="永久链接至标题">¶</a></h2>
<ul>
<li><p>Support for embedding the Python interpreter. See the
<span class="xref std std-doc">documentation page</span> for a
full overview of the new features.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/774">#774</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/889">#889</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/892">#892</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/920">#920</a>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;pybind11/embed.h&gt;</span><span class="cp"></span>
<span class="k">namespace</span> <span class="n">py</span> <span class="o">=</span> <span class="n">pybind11</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">py</span><span class="o">::</span><span class="n">scoped_interpreter</span> <span class="n">guard</span><span class="p">{};</span> <span class="c1">// start the interpreter and keep it alive</span>

    <span class="n">py</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span> <span class="c1">// use the Python API</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Support for inheriting from multiple C++ bases in Python.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/693">#693</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cpp_module</span> <span class="kn">import</span> <span class="n">CppBase1</span><span class="p">,</span> <span class="n">CppBase2</span>

<span class="k">class</span> <span class="nc">PyDerived</span><span class="p">(</span><span class="n">CppBase1</span><span class="p">,</span> <span class="n">CppBase2</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">CppBase1</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># C++ bases must be initialized explicitly</span>
        <span class="n">CppBase2</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">PYBIND11_MODULE</span></code> is now the preferred way to create module entry points.
<code class="docutils literal notranslate"><span class="pre">PYBIND11_PLUGIN</span></code> is deprecated. See <a class="reference internal" href="reference.html#macros"><span class="std std-ref">Macros</span></a> for details.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/879">#879</a>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// new</span>
<span class="n">PYBIND11_MODULE</span><span class="p">(</span><span class="n">example</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">m</span><span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;add&quot;</span><span class="p">,</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span> <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// old</span>
<span class="n">PYBIND11_PLUGIN</span><span class="p">(</span><span class="n">example</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">py</span><span class="o">::</span><span class="n">module</span> <span class="n">m</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">);</span>
    <span class="n">m</span><span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;add&quot;</span><span class="p">,</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span> <span class="p">});</span>
    <span class="k">return</span> <span class="n">m</span><span class="p">.</span><span class="n">ptr</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>pybind11’s headers and build system now more strictly enforce hidden symbol
visibility for extension modules. This should be seamless for most users,
but see the <a class="reference internal" href="upgrade.html"><span class="doc">Upgrade guide</span></a> if you use a custom build system.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/995">#995</a>.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">py::module_local</span></code> types which allow multiple modules to
export the same C++ types without conflicts. This is useful for opaque
types like <code class="docutils literal notranslate"><span class="pre">std::vector&lt;int&gt;</span></code>. <code class="docutils literal notranslate"><span class="pre">py::bind_vector</span></code> and <code class="docutils literal notranslate"><span class="pre">py::bind_map</span></code>
now default to <code class="docutils literal notranslate"><span class="pre">py::module_local</span></code> if their elements are builtins or
local types. See <a class="reference internal" href="advanced/classes.html#module-local"><span class="std std-ref">Module-local class bindings</span></a> for details.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/949">#949</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/981">#981</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/995">#995</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/997">#997</a>.</p></li>
<li><p>Custom constructors can now be added very easily using lambdas or factory
functions which return a class instance by value, pointer or holder. This
supersedes the old placement-new <code class="docutils literal notranslate"><span class="pre">__init__</span></code> technique.
See <a class="reference internal" href="advanced/classes.html#custom-constructors"><span class="std std-ref">Custom constructors</span></a> for details.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/805">#805</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1014">#1014</a>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Example</span> <span class="p">{</span>
    <span class="n">Example</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">py</span><span class="o">::</span><span class="n">class_</span><span class="o">&lt;</span><span class="n">Example</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="s">&quot;Example&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="n">py</span><span class="o">::</span><span class="n">init</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">())</span> <span class="c1">// existing constructor</span>
    <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="n">py</span><span class="o">::</span><span class="n">init</span><span class="p">([](</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// custom constructor</span>
        <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_unique</span><span class="o">&lt;</span><span class="n">Example</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">n</span><span class="p">));</span>
    <span class="p">}));</span>
</pre></div>
</div>
</li>
<li><p>Similarly to custom constructors, pickling support functions are now bound
using the <code class="docutils literal notranslate"><span class="pre">py::pickle()</span></code> adaptor which improves type safety. See the
<a class="reference internal" href="upgrade.html"><span class="doc">Upgrade guide</span></a> and <a class="reference internal" href="advanced/classes.html#pickling"><span class="std std-ref">Pickling support</span></a> for details.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1038">#1038</a>.</p></li>
<li><p>Builtin support for converting C++17 standard library types and general
conversion improvements:</p>
<ol class="arabic simple">
<li><p>C++17 <code class="docutils literal notranslate"><span class="pre">std::variant</span></code> is supported right out of the box. C++11/14
equivalents (e.g. <code class="docutils literal notranslate"><span class="pre">boost::variant</span></code>) can also be added with a simple
user-defined specialization. See <a class="reference internal" href="advanced/cast/stl.html#cpp17-container-casters"><span class="std std-ref">C++17 library containers</span></a> for details.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/811">#811</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/845">#845</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/989">#989</a>.</p></li>
<li><p>Out-of-the-box support for C++17 <code class="docutils literal notranslate"><span class="pre">std::string_view</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/906">#906</a>.</p></li>
<li><p>Improved compatibility of the builtin <code class="docutils literal notranslate"><span class="pre">optional</span></code> converter.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/874">#874</a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">bool</span></code> converter now accepts <code class="docutils literal notranslate"><span class="pre">numpy.bool_</span></code> and types which
define <code class="docutils literal notranslate"><span class="pre">__bool__</span></code> (Python 3.x) or <code class="docutils literal notranslate"><span class="pre">__nonzero__</span></code> (Python 2.7).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/925">#925</a>.</p></li>
<li><p>C++-to-Python casters are now more efficient and move elements out
of rvalue containers whenever possible.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/851">#851</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/936">#936</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/938">#938</a>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">bytes</span></code> to <code class="docutils literal notranslate"><span class="pre">std::string/char*</span></code> conversion on Python 3.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/817">#817</a>.</p></li>
<li><p>Fixed lifetime of temporary C++ objects created in Python-to-C++ conversions.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/924">#924</a>.</p></li>
</ol>
</li>
<li><p>Scope guard call policy for RAII types, e.g. <code class="docutils literal notranslate"><span class="pre">py::call_guard&lt;py::gil_scoped_release&gt;()</span></code>,
<code class="docutils literal notranslate"><span class="pre">py::call_guard&lt;py::scoped_ostream_redirect&gt;()</span></code>. See <a class="reference internal" href="advanced/functions.html#call-policies"><span class="std std-ref">Additional call policies</span></a> for details.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/740">#740</a>.</p></li>
<li><p>Utility for redirecting C++ streams to Python (e.g. <code class="docutils literal notranslate"><span class="pre">std::cout</span></code> -&gt;
<code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code>). Scope guard <code class="docutils literal notranslate"><span class="pre">py::scoped_ostream_redirect</span></code> in C++ and
a context manager in Python. See <a class="reference internal" href="advanced/pycpp/utilities.html#ostream-redirect"><span class="std std-ref">Capturing standard output from ostream</span></a>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1009">#1009</a>.</p></li>
<li><p>Improved handling of types and exceptions across module boundaries.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/915">#915</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/951">#951</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/995">#995</a>.</p></li>
<li><p>Fixed destruction order of <code class="docutils literal notranslate"><span class="pre">py::keep_alive</span></code> nurse/patient objects
in reference cycles.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/856">#856</a>.</p></li>
<li><p>Numpy and buffer protocol related improvements:</p>
<ol class="arabic simple">
<li><p>Support for negative strides in Python buffer objects/numpy arrays. This
required changing integers from unsigned to signed for the related C++ APIs.
Note: If you have compiler warnings enabled, you may notice some new conversion
warnings after upgrading. These can be resolved with <code class="docutils literal notranslate"><span class="pre">static_cast</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/782">#782</a>.</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">std::complex</span></code> and arrays inside <code class="docutils literal notranslate"><span class="pre">PYBIND11_NUMPY_DTYPE</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/831">#831</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/832">#832</a>.</p></li>
<li><p>Support for constructing <code class="docutils literal notranslate"><span class="pre">py::buffer_info</span></code> and <code class="docutils literal notranslate"><span class="pre">py::arrays</span></code> using
arbitrary containers or iterators instead of requiring a <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/788">#788</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/822">#822</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/860">#860</a>.</p></li>
<li><p>Explicitly check numpy version and require &gt;= 1.7.0.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/819">#819</a>.</p></li>
</ol>
</li>
<li><p>Support for allowing/prohibiting <code class="docutils literal notranslate"><span class="pre">None</span></code> for specific arguments and improved
<code class="docutils literal notranslate"><span class="pre">None</span></code> overload resolution order. See <a class="reference internal" href="advanced/functions.html#none-arguments"><span class="std std-ref">Allow/Prohibiting None arguments</span></a> for details.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/843">#843</a>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/859">#859</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">py::exec()</span></code> as a shortcut for <code class="docutils literal notranslate"><span class="pre">py::eval&lt;py::eval_statements&gt;()</span></code>
and support for C++11 raw string literals as input. See <a class="reference internal" href="advanced/pycpp/utilities.html#eval"><span class="std std-ref">Evaluating Python expressions from strings and files</span></a>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/766">#766</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/827">#827</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">py::vectorize()</span></code> ignores non-vectorizable arguments and supports
member functions.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/762">#762</a>.</p></li>
<li><p>Support for bound methods as callbacks (<code class="docutils literal notranslate"><span class="pre">pybind11/functional.h</span></code>).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/815">#815</a>.</p></li>
<li><p>Allow aliasing pybind11 methods: <code class="docutils literal notranslate"><span class="pre">cls.attr(&quot;foo&quot;)</span> <span class="pre">=</span> <span class="pre">cls.attr(&quot;bar&quot;)</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/802">#802</a>.</p></li>
<li><p>Don’t allow mixed static/non-static overloads.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/804">#804</a>.</p></li>
<li><p>Fixed overriding static properties in derived classes.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/784">#784</a>.</p></li>
<li><p>Added support for write only properties.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1144">#1144</a>.</p></li>
<li><p>Improved deduction of member functions of a derived class when its bases
aren’t registered with pybind11.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/855">#855</a>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Base</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="nl">Derived</span> <span class="p">:</span> <span class="n">Base</span> <span class="p">{}</span>

<span class="c1">// Now works, but previously required also binding `Base`</span>
<span class="n">py</span><span class="o">::</span><span class="n">class_</span><span class="o">&lt;</span><span class="n">Derived</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="s">&quot;Derived&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Derived</span><span class="o">::</span><span class="n">foo</span><span class="p">);</span> <span class="c1">// function is actually from `Base`</span>
</pre></div>
</div>
</li>
<li><p>The implementation of <code class="docutils literal notranslate"><span class="pre">py::init&lt;&gt;</span></code> now uses C++11 brace initialization
syntax to construct instances, which permits binding implicit constructors of
aggregate types. <a class="reference external" href="https://github.com/pybind/pybind11/pull/1015">#1015</a>.</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Aggregate</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">b</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">py</span><span class="o">::</span><span class="n">class_</span><span class="o">&lt;</span><span class="n">Aggregate</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="s">&quot;Aggregate&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="n">py</span><span class="o">::</span><span class="n">init</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;&gt;</span><span class="p">());</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Fixed issues with multiple inheritance with offset base/derived pointers.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/812">#812</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/866">#866</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/960">#960</a>.</p></li>
<li><p>Fixed reference leak of type objects.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1030">#1030</a>.</p></li>
<li><p>Improved support for the <code class="docutils literal notranslate"><span class="pre">/std:c++14</span></code> and <code class="docutils literal notranslate"><span class="pre">/std:c++latest</span></code> modes
on MSVC 2017.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/841">#841</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/999">#999</a>.</p></li>
<li><p>Fixed detection of private operator new on MSVC.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/893">#893</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/918">#918</a>.</p></li>
<li><p>Intel C++ compiler compatibility fixes.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/937">#937</a>.</p></li>
<li><p>Fixed implicit conversion of <cite>py::enum_</cite> to integer types on Python 2.7.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/821">#821</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">py::hash</span></code> to fetch the hash value of Python objects, and
<code class="docutils literal notranslate"><span class="pre">.def(hash(py::self))</span></code> to provide the C++ <code class="docutils literal notranslate"><span class="pre">std::hash</span></code> as the Python
<code class="docutils literal notranslate"><span class="pre">__hash__</span></code> method.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1034">#1034</a>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">__truediv__</span></code> on Python 2 and <code class="docutils literal notranslate"><span class="pre">__itruediv__</span></code> on Python 3.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/867">#867</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">py::capsule</span></code> objects now support the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute. This is useful
for interfacing with <code class="docutils literal notranslate"><span class="pre">scipy.LowLevelCallable</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/902">#902</a>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">py::make_iterator</span></code>’s <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> for past-the-end calls.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/897">#897</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">error_already_set::matches()</span></code> for checking Python exceptions.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/772">#772</a>.</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">py::error_already_set::clear()</span></code>. It’s no longer needed
following a simplification of the <code class="docutils literal notranslate"><span class="pre">py::error_already_set</span></code> class.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/954">#954</a>.</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">py::handle::operator==()</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">py::handle::is()</span></code>
<a class="reference external" href="https://github.com/pybind/pybind11/pull/825">#825</a>.</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">py::object::borrowed</span></code>/<code class="docutils literal notranslate"><span class="pre">py::object::stolen</span></code>.
Use <code class="docutils literal notranslate"><span class="pre">py::object::borrowed_t{}</span></code>/<code class="docutils literal notranslate"><span class="pre">py::object::stolen_t{}</span></code> instead.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/771">#771</a>.</p></li>
<li><p>Changed internal data structure versioning to avoid conflicts between
modules compiled with different revisions of pybind11.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1012">#1012</a>.</p></li>
<li><p>Additional compile-time and run-time error checking and more informative messages.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/786">#786</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/794">#794</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/803">#803</a>.</p></li>
<li><p>Various minor improvements and fixes.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/764">#764</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/791">#791</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/795">#795</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/840">#840</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/844">#844</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/846">#846</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/849">#849</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/858">#858</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/862">#862</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/871">#871</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/872">#872</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/881">#881</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/888">#888</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/899">#899</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/928">#928</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/931">#931</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/944">#944</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/950">#950</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/952">#952</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/962">#962</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/965">#965</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/970">#970</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/978">#978</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/979">#979</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/986">#986</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1020">#1020</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1027">#1027</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/1037">#1037</a>.</p></li>
<li><p>Testing improvements.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/798">#798</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/882">#882</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/898">#898</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/900">#900</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/921">#921</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/923">#923</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/963">#963</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-1-1-april-7-2017">
<h2>v2.1.1 (April 7, 2017)<a class="headerlink" href="#v2-1-1-april-7-2017" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Fixed minimum version requirement for MSVC 2015u3
<a class="reference external" href="https://github.com/pybind/pybind11/pull/773">#773</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-1-0-march-22-2017">
<h2>v2.1.0 (March 22, 2017)<a class="headerlink" href="#v2-1-0-march-22-2017" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>pybind11 now performs function overload resolution in two phases. The first
phase only considers exact type matches, while the second allows for implicit
conversions to take place. A special <code class="docutils literal notranslate"><span class="pre">noconvert()</span></code> syntax can be used to
completely disable implicit conversions for specific arguments.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/643">#643</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/634">#634</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/650">#650</a>.</p></li>
<li><p>Fixed a regression where static properties no longer worked with classes
using multiple inheritance. The <code class="docutils literal notranslate"><span class="pre">py::metaclass</span></code> attribute is no longer
necessary (and deprecated as of this release) when binding classes with
static properties.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/679">#679</a>,</p></li>
<li><p>Classes bound using <code class="docutils literal notranslate"><span class="pre">pybind11</span></code> can now use custom metaclasses.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/679">#679</a>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">py::args</span></code> and <code class="docutils literal notranslate"><span class="pre">py::kwargs</span></code> can now be mixed with other positional
arguments when binding functions using pybind11.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/611">#611</a>.</p></li>
<li><p>Improved support for C++11 unicode string and character types; added
extensive documentation regarding pybind11’s string conversion behavior.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/624">#624</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/636">#636</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/715">#715</a>.</p></li>
<li><p>pybind11 can now avoid expensive copies when converting Eigen arrays to NumPy
arrays (and vice versa). <a class="reference external" href="https://github.com/pybind/pybind11/pull/610">#610</a>.</p></li>
<li><p>The “fast path” in <code class="docutils literal notranslate"><span class="pre">py::vectorize</span></code> now works for any full-size group of C or
F-contiguous arrays. The non-fast path is also faster since it no longer performs
copies of the input arguments (except when type conversions are necessary).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/610">#610</a>.</p></li>
<li><p>Added fast, unchecked access to NumPy arrays via a proxy object.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/746">#746</a>.</p></li>
<li><p>Transparent support for class-specific <code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">new</span></code> and
<code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">delete</span></code> implementations.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/755">#755</a>.</p></li>
<li><p>Slimmer and more efficient STL-compatible iterator interface for sequence types.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/662">#662</a>.</p></li>
<li><p>Improved custom holder type support.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/607">#607</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nullptr</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code> conversion fixed in various builtin type casters.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/732">#732</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enum_</span></code> now exposes its members via a special <code class="docutils literal notranslate"><span class="pre">__members__</span></code> attribute.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/666">#666</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">std::vector</span></code> bindings created using <code class="docutils literal notranslate"><span class="pre">stl_bind.h</span></code> can now optionally
implement the buffer protocol. <a class="reference external" href="https://github.com/pybind/pybind11/pull/488">#488</a>.</p></li>
<li><p>Automated C++ reference documentation using doxygen and breathe.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/598">#598</a>.</p></li>
<li><p>Added minimum compiler version assertions.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/727">#727</a>.</p></li>
<li><p>Improved compatibility with C++1z.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/677">#677</a>.</p></li>
<li><p>Improved <code class="docutils literal notranslate"><span class="pre">py::capsule</span></code> API. Can be used to implement cleanup
callbacks that are involved at module destruction time.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/752">#752</a>.</p></li>
<li><p>Various minor improvements and fixes.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/595">#595</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/588">#588</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/589">#589</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/603">#603</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/619">#619</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/648">#648</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/695">#695</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/720">#720</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/723">#723</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/729">#729</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/724">#724</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/742">#742</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/753">#753</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-0-1-jan-4-2017">
<h2>v2.0.1 (Jan 4, 2017)<a class="headerlink" href="#v2-0-1-jan-4-2017" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Fix pointer to reference error in type_caster on MSVC
<a class="reference external" href="https://github.com/pybind/pybind11/pull/583">#583</a>.</p></li>
<li><p>Fixed a segmentation in the test suite due to a typo
<a class="reference external" href="https://github.com/pybind/pybind11/commit/cd7eac">cd7eac</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-0-0-jan-1-2017">
<h2>v2.0.0 (Jan 1, 2017)<a class="headerlink" href="#v2-0-0-jan-1-2017" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Fixed a reference counting regression affecting types with custom metaclasses
(introduced in v2.0.0-rc1).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/571">#571</a>.</p></li>
<li><p>Quenched a CMake policy warning.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/570">#570</a>.</p></li>
</ul>
</div>
<div class="section" id="v2-0-0-rc1-dec-23-2016">
<h2>v2.0.0-rc1 (Dec 23, 2016)<a class="headerlink" href="#v2-0-0-rc1-dec-23-2016" title="永久链接至标题">¶</a></h2>
<p>The pybind11 developers are excited to issue a release candidate of pybind11
with a subsequent v2.0.0 release planned in early January next year.</p>
<p>An incredible amount of effort by went into pybind11 over the last ~5 months,
leading to a release that is jam-packed with exciting new features and numerous
usability improvements. The following list links PRs or individual commits
whenever applicable.</p>
<p>Happy Christmas!</p>
<ul>
<li><p>Support for binding C++ class hierarchies that make use of multiple
inheritance. <a class="reference external" href="https://github.com/pybind/pybind11/pull/410">#410</a>.</p></li>
<li><p>PyPy support: pybind11 now supports nightly builds of PyPy and will
interoperate with the future 5.7 release. No code changes are necessary,
everything “just” works as usual. Note that we only target the Python 2.7
branch for now; support for 3.x will be added once its <code class="docutils literal notranslate"><span class="pre">cpyext</span></code> extension
support catches up. A few minor features remain unsupported for the time
being (notably dynamic attributes in custom types).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/527">#527</a>.</p></li>
<li><p>Significant work on the documentation – in particular, the monolithic
<code class="docutils literal notranslate"><span class="pre">advanced.rst</span></code> file was restructured into a easier to read hierarchical
organization. <a class="reference external" href="https://github.com/pybind/pybind11/pull/448">#448</a>.</p></li>
<li><p>Many NumPy-related improvements:</p>
<ol class="arabic">
<li><p>Object-oriented API to access and modify NumPy <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> instances,
replicating much of the corresponding NumPy C API functionality.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/402">#402</a>.</p></li>
<li><p>NumPy array <code class="docutils literal notranslate"><span class="pre">dtype</span></code> array descriptors are now first-class citizens and
are exposed via a new class <code class="docutils literal notranslate"><span class="pre">py::dtype</span></code>.</p></li>
<li><p>Structured dtypes can be registered using the <code class="docutils literal notranslate"><span class="pre">PYBIND11_NUMPY_DTYPE()</span></code>
macro. Special <code class="docutils literal notranslate"><span class="pre">array</span></code> constructors accepting dtype objects were also
added.</p>
<p>One potential caveat involving this change: format descriptor strings
should now be accessed via <code class="docutils literal notranslate"><span class="pre">format_descriptor::format()</span></code> (however, for
compatibility purposes, the old syntax <code class="docutils literal notranslate"><span class="pre">format_descriptor::value</span></code> will
still work for non-structured data types). <a class="reference external" href="https://github.com/pybind/pybind11/pull/308">#308</a>.</p>
</li>
<li><p>Further improvements to support structured dtypes throughout the system.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/472">#472</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/474">#474</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/459">#459</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/453">#453</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/452">#452</a>, and
<a class="reference external" href="https://github.com/pybind/pybind11/pull/505">#505</a>.</p></li>
<li><p>Fast access operators. <a class="reference external" href="https://github.com/pybind/pybind11/pull/497">#497</a>.</p></li>
<li><p>Constructors for arrays whose storage is owned by another object.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/440">#440</a>.</p></li>
<li><p>Added constructors for <code class="docutils literal notranslate"><span class="pre">array</span></code> and <code class="docutils literal notranslate"><span class="pre">array_t</span></code> explicitly accepting shape
and strides; if strides are not provided, they are deduced assuming
C-contiguity. Also added simplified constructors for 1-dimensional case.</p></li>
<li><p>Added buffer/NumPy support for <code class="docutils literal notranslate"><span class="pre">char[N]</span></code> and <code class="docutils literal notranslate"><span class="pre">std::array&lt;char,</span> <span class="pre">N&gt;</span></code> types.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">memoryview</span></code> wrapper type which is constructible from <code class="docutils literal notranslate"><span class="pre">buffer_info</span></code>.</p></li>
</ol>
</li>
<li><p>Eigen: many additional conversions and support for non-contiguous
arrays/slices.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/427">#427</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/315">#315</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/316">#316</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/312">#312</a>, and
<a class="reference external" href="https://github.com/pybind/pybind11/pull/267">#267</a></p></li>
<li><p>Incompatible changes in <code class="docutils literal notranslate"><span class="pre">class_&lt;...&gt;::class_()</span></code>:</p>
<blockquote>
<div><ol class="arabic">
<li><p>Declarations of types that provide access via the buffer protocol must
now include the <code class="docutils literal notranslate"><span class="pre">py::buffer_protocol()</span></code> annotation as an argument to
the <code class="docutils literal notranslate"><span class="pre">class_</span></code> constructor.</p></li>
<li><p>Declarations of types that require a custom metaclass (i.e. all classes
which include static properties via commands such as
<code class="docutils literal notranslate"><span class="pre">def_readwrite_static()</span></code>) must now include the <code class="docutils literal notranslate"><span class="pre">py::metaclass()</span></code>
annotation as an argument to the <code class="docutils literal notranslate"><span class="pre">class_</span></code> constructor.</p>
<p>These two changes were necessary to make type definitions in pybind11
future-proof, and to support PyPy via its cpyext mechanism. <a class="reference external" href="https://github.com/pybind/pybind11/pull/527">#527</a>.</p>
</li>
<li><p>This version of pybind11 uses a redesigned mechanism for instantiating
trampoline classes that are used to override virtual methods from within
Python. This led to the following user-visible syntax change: instead of</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">py</span><span class="o">::</span><span class="n">class_</span><span class="o">&lt;</span><span class="n">TrampolineClass</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;MyClass&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="n">alias</span><span class="o">&lt;</span><span class="n">MyClass</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="p">....</span>
</pre></div>
</div>
<p>write</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">py</span><span class="o">::</span><span class="n">class_</span><span class="o">&lt;</span><span class="n">MyClass</span><span class="p">,</span> <span class="n">TrampolineClass</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;MyClass&quot;</span><span class="p">)</span>
  <span class="p">....</span>
</pre></div>
</div>
<p>Importantly, both the original and the trampoline class are now
specified as an arguments (in arbitrary order) to the <code class="docutils literal notranslate"><span class="pre">py::class_</span></code>
template, and the <code class="docutils literal notranslate"><span class="pre">alias&lt;..&gt;()</span></code> call is gone. The new scheme has zero
overhead in cases when Python doesn’t override any functions of the
underlying C++ class. <a class="reference external" href="https://github.com/pybind/pybind11/commit/86d825">rev. 86d825</a>.</p>
</li>
</ol>
</div></blockquote>
</li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">eval</span></code> and <code class="docutils literal notranslate"><span class="pre">eval_file</span></code> functions for evaluating expressions and
statements from a string or file. <a class="reference external" href="https://github.com/pybind/pybind11/commit/0d3fc3">rev. 0d3fc3</a>.</p></li>
<li><p>pybind11 can now create types with a modifiable dictionary.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/437">#437</a> and
<a class="reference external" href="https://github.com/pybind/pybind11/pull/444">#444</a>.</p></li>
<li><p>Support for translation of arbitrary C++ exceptions to Python counterparts.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/296">#296</a> and
<a class="reference external" href="https://github.com/pybind/pybind11/pull/273">#273</a>.</p></li>
<li><p>Report full backtraces through mixed C++/Python code, better reporting for
import errors, fixed GIL management in exception processing.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/537">#537</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/494">#494</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/commit/e72d95">rev. e72d95</a>, and
<a class="reference external" href="https://github.com/pybind/pybind11/commit/099d6e">rev. 099d6e</a>.</p></li>
<li><p>Support for bit-level operations, comparisons, and serialization of C++
enumerations. <a class="reference external" href="https://github.com/pybind/pybind11/pull/503">#503</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/508">#508</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/380">#380</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/309">#309</a>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/311">#311</a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">class_</span></code> constructor now accepts its template arguments in any order.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/385">#385</a>.</p></li>
<li><p>Attribute and item accessors now have a more complete interface which makes
it possible to chain attributes as in
<code class="docutils literal notranslate"><span class="pre">obj.attr(&quot;a&quot;)[key].attr(&quot;b&quot;).attr(&quot;method&quot;)(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code>. <a class="reference external" href="https://github.com/pybind/pybind11/pull/425">#425</a>.</p></li>
<li><p>Major redesign of the default and conversion constructors in <code class="docutils literal notranslate"><span class="pre">pytypes.h</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/464">#464</a>.</p></li>
<li><p>Added built-in support for <code class="docutils literal notranslate"><span class="pre">std::shared_ptr</span></code> holder type. It is no longer
necessary to to include a declaration of the form
<code class="docutils literal notranslate"><span class="pre">PYBIND11_DECLARE_HOLDER_TYPE(T,</span> <span class="pre">std::shared_ptr&lt;T&gt;)</span></code> (though continuing to
do so won’t cause an error).
<a class="reference external" href="https://github.com/pybind/pybind11/pull/454">#454</a>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">py::overload_cast</span></code> casting operator to select among multiple possible
overloads of a function. An example:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">py</span><span class="o">::</span><span class="n">class_</span><span class="o">&lt;</span><span class="n">Pet</span><span class="o">&gt;</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="s">&quot;Pet&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;set&quot;</span><span class="p">,</span> <span class="n">py</span><span class="o">::</span><span class="n">overload_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Pet</span><span class="o">::</span><span class="n">set</span><span class="p">),</span> <span class="s">&quot;Set the pet&#39;s age&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;set&quot;</span><span class="p">,</span> <span class="n">py</span><span class="o">::</span><span class="n">overload_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Pet</span><span class="o">::</span><span class="n">set</span><span class="p">),</span> <span class="s">&quot;Set the pet&#39;s name&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>This feature only works on C++14-capable compilers.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/541">#541</a>.</p>
</li>
<li><p>C++ types are automatically cast to Python types, e.g. when assigning
them as an attribute. For instance, the following is now legal:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">py</span><span class="o">::</span><span class="n">module</span> <span class="n">m</span> <span class="o">=</span> <span class="cm">/* ... */</span>
<span class="n">m</span><span class="p">.</span><span class="n">attr</span><span class="p">(</span><span class="s">&quot;constant&quot;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>(Previously, a <code class="docutils literal notranslate"><span class="pre">py::cast</span></code> call was necessary to avoid a compilation error.)
<a class="reference external" href="https://github.com/pybind/pybind11/pull/551">#551</a>.</p>
</li>
<li><p>Redesigned <code class="docutils literal notranslate"><span class="pre">pytest</span></code>-based test suite. <a class="reference external" href="https://github.com/pybind/pybind11/pull/321">#321</a>.</p></li>
<li><p>Instance tracking to detect reference leaks in test suite. <a class="reference external" href="https://github.com/pybind/pybind11/pull/324">#324</a></p></li>
<li><p>pybind11 can now distinguish between multiple different instances that are
located at the same memory address, but which have different types.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/329">#329</a>.</p></li>
<li><p>Improved logic in <code class="docutils literal notranslate"><span class="pre">move</span></code> return value policy.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/510">#510</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/297">#297</a>.</p></li>
<li><p>Generalized unpacking API to permit calling Python functions from C++ using
notation such as <code class="docutils literal notranslate"><span class="pre">foo(a1,</span> <span class="pre">a2,</span> <span class="pre">*args,</span> <span class="pre">&quot;ka&quot;_a=1,</span> <span class="pre">&quot;kb&quot;_a=2,</span> <span class="pre">**kwargs)</span></code>. <a class="reference external" href="https://github.com/pybind/pybind11/pull/372">#372</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">py::print()</span></code> function whose behavior matches that of the native Python
<code class="docutils literal notranslate"><span class="pre">print()</span></code> function. <a class="reference external" href="https://github.com/pybind/pybind11/pull/372">#372</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">py::dict</span></code> keyword constructor:<code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">d</span> <span class="pre">=</span> <span class="pre">dict(&quot;number&quot;_a=42,</span>
<span class="pre">&quot;name&quot;_a=&quot;World&quot;);</span></code>. <a class="reference external" href="https://github.com/pybind/pybind11/pull/372">#372</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">py::str::format()</span></code> method and <code class="docutils literal notranslate"><span class="pre">_s</span></code> literal: <code class="docutils literal notranslate"><span class="pre">py::str</span> <span class="pre">s</span> <span class="pre">=</span> <span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">2</span>
<span class="pre">=</span> <span class="pre">{}&quot;_s.format(3);</span></code>. <a class="reference external" href="https://github.com/pybind/pybind11/pull/372">#372</a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">py::repr()</span></code> function which is equivalent to Python’s builtin
<code class="docutils literal notranslate"><span class="pre">repr()</span></code>. <a class="reference external" href="https://github.com/pybind/pybind11/pull/333">#333</a>.</p></li>
<li><p>Improved construction and destruction logic for holder types. It is now
possible to reference instances with smart pointer holder types without
constructing the holder if desired. The <code class="docutils literal notranslate"><span class="pre">PYBIND11_DECLARE_HOLDER_TYPE</span></code>
macro now accepts an optional second parameter to indicate whether the holder
type uses intrusive reference counting.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/533">#533</a> and
<a class="reference external" href="https://github.com/pybind/pybind11/pull/561">#561</a>.</p></li>
<li><p>Mapping a stateless C++ function to Python and back is now “for free” (i.e.
no extra indirections or argument conversion overheads). <a class="reference external" href="https://github.com/pybind/pybind11/commit/954b79">rev. 954b79</a>.</p></li>
<li><p>Bindings for <code class="docutils literal notranslate"><span class="pre">std::valarray&lt;T&gt;</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/545">#545</a>.</p></li>
<li><p>Improved support for C++17 capable compilers.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/562">#562</a>.</p></li>
<li><p>Bindings for <code class="docutils literal notranslate"><span class="pre">std::optional&lt;t&gt;</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/475">#475</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/476">#476</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/479">#479</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/499">#499</a>, and
<a class="reference external" href="https://github.com/pybind/pybind11/pull/501">#501</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stl_bind.h</span></code>: general improvements and support for <code class="docutils literal notranslate"><span class="pre">std::map</span></code> and
<code class="docutils literal notranslate"><span class="pre">std::unordered_map</span></code>.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/490">#490</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/282">#282</a>,
<a class="reference external" href="https://github.com/pybind/pybind11/pull/235">#235</a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">std::pair</span></code>, <code class="docutils literal notranslate"><span class="pre">std::list</span></code>, and <code class="docutils literal notranslate"><span class="pre">std::vector</span></code> type
casters now accept any Python sequence type as input. <a class="reference external" href="https://github.com/pybind/pybind11/commit/107285">rev. 107285</a>.</p></li>
<li><p>Improved CMake Python detection on multi-architecture Linux.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/532">#532</a>.</p></li>
<li><p>Infrastructure to selectively disable or enable parts of the automatically
generated docstrings. <a class="reference external" href="https://github.com/pybind/pybind11/pull/486">#486</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference</span></code> and <code class="docutils literal notranslate"><span class="pre">reference_internal</span></code> are now the default return value
properties for static and non-static properties, respectively. <a class="reference external" href="https://github.com/pybind/pybind11/pull/473">#473</a>. (the previous defaults
were <code class="docutils literal notranslate"><span class="pre">automatic</span></code>). <a class="reference external" href="https://github.com/pybind/pybind11/pull/473">#473</a>.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">std::unique_ptr</span></code> with non-default deleters or no deleter at
all (<code class="docutils literal notranslate"><span class="pre">py::nodelete</span></code>). <a class="reference external" href="https://github.com/pybind/pybind11/pull/384">#384</a>.</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">handle::call()</span></code> method. The new syntax to call Python
functions is simply <code class="docutils literal notranslate"><span class="pre">handle()</span></code>. It can also be invoked explicitly via
<code class="docutils literal notranslate"><span class="pre">handle::operator&lt;X&gt;()</span></code>, where <code class="docutils literal notranslate"><span class="pre">X</span></code> is an optional return value policy.</p></li>
<li><p>Print more informative error messages when <code class="docutils literal notranslate"><span class="pre">make_tuple()</span></code> or <code class="docutils literal notranslate"><span class="pre">cast()</span></code>
fail. <a class="reference external" href="https://github.com/pybind/pybind11/pull/262">#262</a>.</p></li>
<li><p>Creation of holder types for classes deriving from
<code class="docutils literal notranslate"><span class="pre">std::enable_shared_from_this&lt;&gt;</span></code> now also works for <code class="docutils literal notranslate"><span class="pre">const</span></code> values.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/260">#260</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">make_iterator()</span></code> improvements for better compatibility with various
types (now uses prefix increment operator); it now also accepts iterators
with different begin/end types as long as they are equality comparable.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/247">#247</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arg()</span></code> now accepts a wider range of argument types for default values.
<a class="reference external" href="https://github.com/pybind/pybind11/pull/244">#244</a>.</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">keep_alive</span></code> where the nurse object may be <code class="docutils literal notranslate"><span class="pre">None</span></code>. <a class="reference external" href="https://github.com/pybind/pybind11/pull/341">#341</a>.</p></li>
<li><p>Added constructors for <code class="docutils literal notranslate"><span class="pre">str</span></code> and <code class="docutils literal notranslate"><span class="pre">bytes</span></code> from zero-terminated char
pointers, and from char pointers and length. Added constructors for <code class="docutils literal notranslate"><span class="pre">str</span></code>
from <code class="docutils literal notranslate"><span class="pre">bytes</span></code> and for <code class="docutils literal notranslate"><span class="pre">bytes</span></code> from <code class="docutils literal notranslate"><span class="pre">str</span></code>, which will perform UTF-8
decoding/encoding as required.</p></li>
<li><p>Many other improvements of library internals without user-visible changes</p></li>
</ul>
</div>
<div class="section" id="july-12-2016">
<h2>1.8.1 (July 12, 2016)<a class="headerlink" href="#july-12-2016" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Fixed a rare but potentially very severe issue when the garbage collector ran
during pybind11 type creation.</p></li>
</ul>
</div>
<div class="section" id="june-14-2016">
<h2>1.8.0 (June 14, 2016)<a class="headerlink" href="#june-14-2016" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Redesigned CMake build system which exports a convenient
<code class="docutils literal notranslate"><span class="pre">pybind11_add_module</span></code> function to parent projects.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;&gt;</span></code> type bindings analogous to Boost.Python’s <code class="docutils literal notranslate"><span class="pre">indexing_suite</span></code></p></li>
<li><p>Transparent conversion of sparse and dense Eigen matrices and vectors (<code class="docutils literal notranslate"><span class="pre">eigen.h</span></code>)</p></li>
<li><p>Added an <code class="docutils literal notranslate"><span class="pre">ExtraFlags</span></code> template argument to the NumPy <code class="docutils literal notranslate"><span class="pre">array_t&lt;&gt;</span></code> wrapper
to disable an enforced cast that may lose precision, e.g. to create overloads
for different precisions and complex vs real-valued matrices.</p></li>
<li><p>Prevent implicit conversion of floating point values to integral types in
function arguments</p></li>
<li><p>Fixed incorrect default return value policy for functions returning a shared
pointer</p></li>
<li><p>Don’t allow registering a type via <code class="docutils literal notranslate"><span class="pre">class_</span></code> twice</p></li>
<li><p>Don’t allow casting a <code class="docutils literal notranslate"><span class="pre">None</span></code> value into a C++ lvalue reference</p></li>
<li><p>Fixed a crash in <code class="docutils literal notranslate"><span class="pre">enum_::operator==</span></code> that was triggered by the <code class="docutils literal notranslate"><span class="pre">help()</span></code> command</p></li>
<li><p>Improved detection of whether or not custom C++ types can be copy/move-constructed</p></li>
<li><p>Extended <code class="docutils literal notranslate"><span class="pre">str</span></code> type to also work with <code class="docutils literal notranslate"><span class="pre">bytes</span></code> instances</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;_a</span></code> user defined string literal that is equivalent to <code class="docutils literal notranslate"><span class="pre">py::arg(&quot;name&quot;)</span></code>.</p></li>
<li><p>When specifying function arguments via <code class="docutils literal notranslate"><span class="pre">py::arg</span></code>, the test that verifies
the number of arguments now runs at compile time.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">[[noreturn]]</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">pybind11_fail()</span></code> to quench some
compiler warnings</p></li>
<li><p>List function arguments in exception text when the dispatch code cannot find
a matching overload</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">PYBIND11_OVERLOAD_NAME</span></code> and <code class="docutils literal notranslate"><span class="pre">PYBIND11_OVERLOAD_PURE_NAME</span></code> macros which
can be used to override virtual methods whose name differs in C++ and Python
(e.g. <code class="docutils literal notranslate"><span class="pre">__call__</span></code> and <code class="docutils literal notranslate"><span class="pre">operator()</span></code>)</p></li>
<li><p>Various minor <code class="docutils literal notranslate"><span class="pre">iterator</span></code> and <code class="docutils literal notranslate"><span class="pre">make_iterator()</span></code> improvements</p></li>
<li><p>Transparently support <code class="docutils literal notranslate"><span class="pre">__bool__</span></code> on Python 2.x and Python 3.x</p></li>
<li><p>Fixed issue with destructor of unpickled object not being called</p></li>
<li><p>Minor CMake build system improvements on Windows</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">pybind11::args</span></code> and <code class="docutils literal notranslate"><span class="pre">pybind11::kwargs</span></code> types to create functions which
take an arbitrary number of arguments and keyword arguments</p></li>
<li><p>New syntax to call a Python function from C++ using <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">*kwargs</span></code></p></li>
<li><p>The functions <code class="docutils literal notranslate"><span class="pre">def_property_*</span></code> now correctly process docstring arguments (these
formerly caused a segmentation fault)</p></li>
<li><p>Many <code class="docutils literal notranslate"><span class="pre">mkdoc.py</span></code> improvements (enumerations, template arguments, <code class="docutils literal notranslate"><span class="pre">DOC()</span></code>
macro accepts more arguments)</p></li>
<li><p>Cygwin support</p></li>
<li><p>Documentation improvements (pickling support, <code class="docutils literal notranslate"><span class="pre">keep_alive</span></code>, macro usage)</p></li>
</ul>
</div>
<div class="section" id="april-30-2016">
<h2>1.7 (April 30, 2016)<a class="headerlink" href="#april-30-2016" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Added a new <code class="docutils literal notranslate"><span class="pre">move</span></code> return value policy that triggers C++11 move semantics.
The automatic return value policy falls back to this case whenever a rvalue
reference is encountered</p></li>
<li><p>Significantly more general GIL state routines that are used instead of
Python’s troublesome <code class="docutils literal notranslate"><span class="pre">PyGILState_Ensure</span></code> and <code class="docutils literal notranslate"><span class="pre">PyGILState_Release</span></code> API</p></li>
<li><p>Redesign of opaque types that drastically simplifies their usage</p></li>
<li><p>Extended ability to pass values of type <code class="docutils literal notranslate"><span class="pre">[const]</span> <span class="pre">void</span> <span class="pre">*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keep_alive</span></code> fix: don’t fail when there is no patient</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">functional.h</span></code>: acquire the GIL before calling a Python function</p></li>
<li><p>Added Python RAII type wrappers <code class="docutils literal notranslate"><span class="pre">none</span></code> and <code class="docutils literal notranslate"><span class="pre">iterable</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">*kwargs</span></code> pass-through parameters to
<code class="docutils literal notranslate"><span class="pre">pybind11.get_include()</span></code> function</p></li>
<li><p>Iterator improvements and fixes</p></li>
<li><p>Documentation on return value policies and opaque types improved</p></li>
</ul>
</div>
<div class="section" id="id312">
<h2>1.6 (April 30, 2016)<a class="headerlink" href="#id312" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Skipped due to upload to PyPI gone wrong and inability to recover
(<a class="reference external" href="https://github.com/pypa/packaging-problems/issues/74">https://github.com/pypa/packaging-problems/issues/74</a>)</p></li>
</ul>
</div>
<div class="section" id="april-21-2016">
<h2>1.5 (April 21, 2016)<a class="headerlink" href="#april-21-2016" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>For polymorphic types, use RTTI to try to return the closest type registered with pybind11</p></li>
<li><p>Pickling support for serializing and unserializing C++ instances to a byte stream in Python</p></li>
<li><p>Added a convenience routine <code class="docutils literal notranslate"><span class="pre">make_iterator()</span></code> which turns a range indicated
by a pair of C++ iterators into a iterable Python object</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">len()</span></code> and a variadic <code class="docutils literal notranslate"><span class="pre">make_tuple()</span></code> function</p></li>
<li><p>Addressed a rare issue that could confuse the current virtual function
dispatcher and another that could lead to crashes in multi-threaded
applications</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">get_include()</span></code> function to the Python module that returns the path
of the directory containing the installed pybind11 header files</p></li>
<li><p>Documentation improvements: import issues, symbol visibility, pickling, limitations</p></li>
<li><p>Added casting support for <code class="docutils literal notranslate"><span class="pre">std::reference_wrapper&lt;&gt;</span></code></p></li>
</ul>
</div>
<div class="section" id="april-7-2016">
<h2>1.4 (April 7, 2016)<a class="headerlink" href="#april-7-2016" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Transparent type conversion for <code class="docutils literal notranslate"><span class="pre">std::wstring</span></code> and <code class="docutils literal notranslate"><span class="pre">wchar_t</span></code></p></li>
<li><p>Allow passing <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>-valued strings</p></li>
<li><p>Transparent passing of <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> pointers using capsules</p></li>
<li><p>Transparent support for returning values wrapped in <code class="docutils literal notranslate"><span class="pre">std::unique_ptr&lt;&gt;</span></code></p></li>
<li><p>Improved docstring generation for compatibility with Sphinx</p></li>
<li><p>Nicer debug error message when default parameter construction fails</p></li>
<li><p>Support for “opaque” types that bypass the transparent conversion layer for STL containers</p></li>
<li><p>Redesigned type casting interface to avoid ambiguities that could occasionally cause compiler errors</p></li>
<li><p>Redesigned property implementation; fixes crashes due to an unfortunate default return value policy</p></li>
<li><p>Anaconda package generation support</p></li>
</ul>
</div>
<div class="section" id="march-8-2016">
<h2>1.3 (March 8, 2016)<a class="headerlink" href="#march-8-2016" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Added support for the Intel C++ compiler (v15+)</p></li>
<li><p>Added support for the STL unordered set/map data structures</p></li>
<li><p>Added support for the STL linked list data structure</p></li>
<li><p>NumPy-style broadcasting support in <code class="docutils literal notranslate"><span class="pre">pybind11::vectorize</span></code></p></li>
<li><p>pybind11 now displays more verbose error messages when <code class="docutils literal notranslate"><span class="pre">arg::operator=()</span></code> fails</p></li>
<li><p>pybind11 internal data structures now live in a version-dependent namespace to avoid ABI issues</p></li>
<li><p>Many, many bugfixes involving corner cases and advanced usage</p></li>
</ul>
</div>
<div class="section" id="february-7-2016">
<h2>1.2 (February 7, 2016)<a class="headerlink" href="#february-7-2016" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Optional: efficient generation of function signatures at compile time using C++14</p></li>
<li><p>Switched to a simpler and more general way of dealing with function default
arguments. Unused keyword arguments in function calls are now detected and
cause errors as expected</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">keep_alive</span></code> call policy analogous to Boost.Python’s <code class="docutils literal notranslate"><span class="pre">with_custodian_and_ward</span></code></p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">pybind11::base&lt;&gt;</span></code> attribute to indicate a subclass relationship</p></li>
<li><p>Improved interface for RAII type wrappers in <code class="docutils literal notranslate"><span class="pre">pytypes.h</span></code></p></li>
<li><p>Use RAII type wrappers consistently within pybind11 itself. This
fixes various potential refcount leaks when exceptions occur</p></li>
<li><p>Added new <code class="docutils literal notranslate"><span class="pre">bytes</span></code> RAII type wrapper (maps to <code class="docutils literal notranslate"><span class="pre">string</span></code> in Python 2.7)</p></li>
<li><p>Made handle and related RAII classes const correct, using them more
consistently everywhere now</p></li>
<li><p>Got rid of the ugly <code class="docutils literal notranslate"><span class="pre">__pybind11__</span></code> attributes on the Python side—they are
now stored in a C++ hash table that is not visible in Python</p></li>
<li><p>Fixed refcount leaks involving NumPy arrays and bound functions</p></li>
<li><p>Vastly improved handling of shared/smart pointers</p></li>
<li><p>Removed an unnecessary copy operation in <code class="docutils literal notranslate"><span class="pre">pybind11::vectorize</span></code></p></li>
<li><p>Fixed naming clashes when both pybind11 and NumPy headers are included</p></li>
<li><p>Added conversions for additional exception types</p></li>
<li><p>Documentation improvements (using multiple extension modules, smart pointers,
other minor clarifications)</p></li>
<li><p>unified infrastructure for parsing variadic arguments in <code class="docutils literal notranslate"><span class="pre">class_</span></code> and cpp_function</p></li>
<li><p>Fixed license text (was: ZLIB, should have been: 3-clause BSD)</p></li>
<li><p>Python 3.2 compatibility</p></li>
<li><p>Fixed remaining issues when accessing types in another plugin module</p></li>
<li><p>Added enum comparison and casting methods</p></li>
<li><p>Improved SFINAE-based detection of whether types are copy-constructible</p></li>
<li><p>Eliminated many warnings about unused variables and the use of <code class="docutils literal notranslate"><span class="pre">offsetof()</span></code></p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">std::array&lt;&gt;</span></code> conversions</p></li>
</ul>
</div>
<div class="section" id="december-7-2015">
<h2>1.1 (December 7, 2015)<a class="headerlink" href="#december-7-2015" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Documentation improvements (GIL, wrapping functions, casting, fixed many typos)</p></li>
<li><p>Generalized conversion of integer types</p></li>
<li><p>Improved support for casting function objects</p></li>
<li><p>Improved support for <code class="docutils literal notranslate"><span class="pre">std::shared_ptr&lt;&gt;</span></code> conversions</p></li>
<li><p>Initial support for <code class="docutils literal notranslate"><span class="pre">std::set&lt;&gt;</span></code> conversions</p></li>
<li><p>Fixed type resolution issue for types defined in a separate plugin module</p></li>
<li><p>Cmake build system improvements</p></li>
<li><p>Factored out generic functionality to non-templated code (smaller code size)</p></li>
<li><p>Added a code size / compile time benchmark vs Boost.Python</p></li>
<li><p>Added an appveyor CI script</p></li>
</ul>
</div>
<div class="section" id="october-15-2015">
<h2>1.0 (October 15, 2015)<a class="headerlink" href="#october-15-2015" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Initial release</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Horizon Robotics

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>